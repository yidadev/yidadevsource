关于iOS内存：


1. 栈区   由编译器自动分配并释放，存放函数的参数值，局部变量等。栈是系统数据结构，对应线程/进程是唯一的，优点是快速高效，缺点是有限制，数据不灵活

栈空间分静态分配和动态分配，

静态分配是编译器完成的，比如自动变量（auto）的分配

动态分配有alloc函数完成

栈的动态分配无需释放（是自动的），也就没有释放函数，为可移植的程序起见，栈的动态分配操作是不被鼓励的

注意点： 由编译器自动分配释放  局部变量是保存在栈区的

申请后的系统响应： 存储每一个函数 在执行的时候都会向操作系统索要资源，栈区就是函数运行时的内存，栈区中的变量由编译器负责分配和释放，内存随着函数的运行分配，随着函数的结束而释放  ，由系统自动完成

2. 堆区  由程序员分配和释放，如果程序不释放，程序结束时，可能会由操作系统回收，比如iOS中的alloc的是存放在堆中的，
优点是灵活方便，数据适应面广泛，但是效率有一定的降低

堆是函数库内部数据结构，不一定唯一
不同堆分配的内存 无法互相操作 堆空间的分配总是动态的。


3. 全局区（静态区static）全局变量和静态变量的存储是放在一起的，初始化的全局变量和静态变量存放的在一块区域，未初始化的全局变量和静态变量在相邻的另一块区域，程序结束后有系统释放。
注意：全局区域分为  未初始化全局区 bss段和初始化全局区： data段
举例：int a, 未初始化的， int a = 10;已经初始化的

BSS段  程序结束后 由系统释放

数据段： 程序结束后 由系统释放

4. 文字常亮区  存放常亮字符串，程序结束后由系统释放

5. 代码区 存放函数的二进制代码（程序结束后  由系统释放）


```xml
int a = 10; 全局初始化区
char *p；全局未初始化区

```

内存的申请大小限制：
栈： 栈是向低地址扩展的数据结构，是一块连续的内存区域，栈顶地址和栈的最大容量是系统预先规定好的，栈的大小是2M，如果申请的空间超过栈的剩余空间时，将提示overflow。
堆： 堆是向高地址扩展的数据结构，是不连续的内存区域，这是由于系统是用链表来存储的空闲内存地址，自然是不连续的，而链表的遍历方向是由低地址向高地址。

栈: 由系统自动分配，速度较快，不会产生内存碎片
堆: 是由alloc分配的内存，速度比较慢，而且容易产生内存碎片，不过用起来最方便。